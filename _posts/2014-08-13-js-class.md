---
layout: post
title:  "javascript的类"
keywords: "js类"
description: ""
category: javascript
tags: [js类]
---

***1.javascript的类***

严格地讲js里是没有类的，因为看到了`new`，便想当然地称“`Person`”为“`Person`类”，其实这里的“类”就是一个函数，而这个函数是用于初始化对象，所以称之为构造函数比较合适。

下面我用两种方式来定义类的属性和方法：

(1).构造函数方式

```javascript
var Person = function (name) {
    this.name = name;
    // 对象方法
    this.say = function () {
        console.log("my name is " + this.name);        
    }
}
var p = new Person("zhangsan");

> p.say()  // "my name is zhangsan"
```

(2).原型方式

```javascript
var Person = function (name) {
    this.name = name;    
}
// 原型方法
Person.prototype.say = function () {
    console.log("my name is " + this.name);        
}
var p = new Person("zhangsan");

> p.say()  // "my name is zhangsan"
```

两种都能实现，但是在`new` N个对象的时候，(1)会在每个对象里都复制一个`say`的方法，效率低且占内存。而(2)因为所有的对象都共用其构造函数的原型对象，所以通过原型链便轻松取到`say`，效率高且内存少。

![对象方法与prototype方法]({{site.cdn}}/object-proto-method.jpg)

所以在用js定义类时，一般情况下我们会把属性写到构造函数中，而方法则写到原型对象中。

还有一点需要注意，<span class="warning">如果在构造函数和它的原型对象中都定义了某同名方法，构造函数中的方法会优先执行</span>。

```javascript
var Person = function () {
    // 对象方法
    this.say = function () {
        console.log("my name is zhangsan");        
    }
}
// 原型方法
Person.prototype.say = function () {
    console.log("my name is lisi");        
}
var p = new Person();

> p.say()  // "my name is zhangsan"
```
